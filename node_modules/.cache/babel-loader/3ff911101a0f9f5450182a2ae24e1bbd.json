{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\blink\\\\Documents\\\\GitHub\\\\todolist\\\\src\\\\features\\\\TodolistsList\\\\Todolist\\\\Todolist.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useCallback, useEffect } from 'react';\nimport { AddItemForm } from '../../../components/AddItemForm/AddItemForm';\nimport { EditableSpan } from '../../../components/EditableSpan/EditableSpan';\nimport IconButton from '@mui/material/IconButton';\nimport Button from '@mui/material/Button';\nimport { Delete } from '@mui/icons-material';\nimport { Task } from './Task/Task';\nimport { TaskStatuses } from '../../../api/todolists-api';\nimport { useDispatch } from 'react-redux';\nimport { fetchTasksTC } from '../tasks-reducer';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const Todolist = /*#__PURE__*/React.memo(_c = _s(function ({\n  demo = false,\n  ...props\n}) {\n  _s();\n\n  console.log('Todolist called');\n  const dispatch = useDispatch();\n  useEffect(() => {\n    if (demo) {\n      return;\n    }\n\n    const thunk = fetchTasksTC(props.todolist.id);\n    dispatch(thunk);\n  }, []);\n  const addTask = useCallback(title => {\n    props.addTask(title, props.todolist.id);\n  }, [props.addTask, props.todolist.id]);\n\n  const removeTodolist = () => {\n    props.removeTodolist(props.todolist.id);\n  };\n\n  const changeTodolistTitle = useCallback(title => {\n    props.changeTodolistTitle(props.todolist.id, title);\n  }, [props.todolist.id, props.changeTodolistTitle]);\n  const onAllClickHandler = useCallback(() => props.changeFilter('all', props.todolist.id), [props.todolist.id, props.changeFilter]);\n  const onActiveClickHandler = useCallback(() => props.changeFilter('active', props.todolist.id), [props.todolist.id, props.changeFilter]);\n  const onCompletedClickHandler = useCallback(() => props.changeFilter('completed', props.todolist.id), [props.todolist.id, props.changeFilter]);\n  let tasksForTodolist = props.tasks;\n\n  if (props.todolist.filter === 'active') {\n    tasksForTodolist = props.tasks.filter(t => t.status === TaskStatuses.New);\n  }\n\n  if (props.todolist.filter === 'completed') {\n    tasksForTodolist = props.tasks.filter(t => t.status === TaskStatuses.Completed);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      children: [/*#__PURE__*/_jsxDEV(EditableSpan, {\n        value: props.todolist.title,\n        onChange: changeTodolistTitle\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(IconButton, {\n        onClick: removeTodolist,\n        disabled: props.todolist.entityStatus === 'loading',\n        children: /*#__PURE__*/_jsxDEV(Delete, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(AddItemForm, {\n      addItem: addTask,\n      disabled: props.todolist.entityStatus === 'loading'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: tasksForTodolist.map(t => /*#__PURE__*/_jsxDEV(Task, {\n        task: t,\n        todolistId: props.todolist.id,\n        removeTask: props.removeTask,\n        changeTaskTitle: props.changeTaskTitle,\n        changeTaskStatus: props.changeTaskStatus\n      }, t.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 43\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        paddingTop: '10px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(Button, {\n        variant: props.todolist.filter === 'all' ? 'outlined' : 'text',\n        onClick: onAllClickHandler,\n        color: 'inherit',\n        children: \"All\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        variant: props.todolist.filter === 'active' ? 'outlined' : 'text',\n        onClick: onActiveClickHandler,\n        color: 'primary',\n        children: \"Active\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        variant: props.todolist.filter === 'completed' ? 'outlined' : 'text',\n        onClick: onCompletedClickHandler,\n        color: 'secondary',\n        children: \"Completed\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 63,\n    columnNumber: 12\n  }, this);\n}, \"kPXLwOPLIIjIrcPemBCsckTgeAg=\", false, function () {\n  return [useDispatch];\n}));\n_c2 = Todolist;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"Todolist$React.memo\");\n$RefreshReg$(_c2, \"Todolist\");","map":{"version":3,"sources":["C:/Users/blink/Documents/GitHub/todolist/src/features/TodolistsList/Todolist/Todolist.tsx"],"names":["React","useCallback","useEffect","AddItemForm","EditableSpan","IconButton","Button","Delete","Task","TaskStatuses","useDispatch","fetchTasksTC","Todolist","memo","demo","props","console","log","dispatch","thunk","todolist","id","addTask","title","removeTodolist","changeTodolistTitle","onAllClickHandler","changeFilter","onActiveClickHandler","onCompletedClickHandler","tasksForTodolist","tasks","filter","t","status","New","Completed","entityStatus","map","removeTask","changeTaskTitle","changeTaskStatus","paddingTop"],"mappings":"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","sourcesContent":["import React, { useCallback, useEffect } from 'react'\r\nimport { AddItemForm } from '../../../components/AddItemForm/AddItemForm'\r\nimport { EditableSpan } from '../../../components/EditableSpan/EditableSpan'\r\nimport IconButton from '@mui/material/IconButton';\r\nimport Button from '@mui/material/Button';\r\nimport { Delete } from '@mui/icons-material';\r\nimport { Task } from './Task/Task'\r\nimport { TaskStatuses, TaskType } from '../../../api/todolists-api'\r\nimport { FilterValuesType, TodolistDomainType } from '../todolists-reducer'\r\nimport { useDispatch } from 'react-redux'\r\nimport { fetchTasksTC } from '../tasks-reducer'\r\n\r\ntype PropsType = {\r\n    todolist: TodolistDomainType\r\n    tasks: Array<TaskType>\r\n    changeFilter: (value: FilterValuesType, todolistId: string) => void\r\n    addTask: (title: string, todolistId: string) => void\r\n    changeTaskStatus: (id: string, status: TaskStatuses, todolistId: string) => void\r\n    changeTaskTitle: (taskId: string, newTitle: string, todolistId: string) => void\r\n    removeTask: (taskId: string, todolistId: string) => void\r\n    removeTodolist: (id: string) => void\r\n    changeTodolistTitle: (id: string, newTitle: string) => void\r\n    demo?: boolean\r\n}\r\n\r\nexport const Todolist = React.memo(function ({demo = false, ...props}: PropsType) {\r\n    console.log('Todolist called')\r\n\r\n    const dispatch = useDispatch()\r\n    useEffect(() => {\r\n        if (demo) {\r\n            return\r\n        }\r\n        const thunk = fetchTasksTC(props.todolist.id)\r\n        dispatch(thunk)\r\n    }, [])\r\n\r\n    const addTask = useCallback((title: string) => {\r\n        props.addTask(title, props.todolist.id)\r\n    }, [props.addTask, props.todolist.id])\r\n\r\n    const removeTodolist = () => {\r\n        props.removeTodolist(props.todolist.id)\r\n    }\r\n    const changeTodolistTitle = useCallback((title: string) => {\r\n        props.changeTodolistTitle(props.todolist.id, title)\r\n    }, [props.todolist.id, props.changeTodolistTitle])\r\n\r\n    const onAllClickHandler = useCallback(() => props.changeFilter('all', props.todolist.id), [props.todolist.id, props.changeFilter])\r\n    const onActiveClickHandler = useCallback(() => props.changeFilter('active', props.todolist.id), [props.todolist.id, props.changeFilter])\r\n    const onCompletedClickHandler = useCallback(() => props.changeFilter('completed', props.todolist.id), [props.todolist.id, props.changeFilter])\r\n\r\n\r\n    let tasksForTodolist = props.tasks\r\n\r\n    if (props.todolist.filter === 'active') {\r\n        tasksForTodolist = props.tasks.filter(t => t.status === TaskStatuses.New)\r\n    }\r\n    if (props.todolist.filter === 'completed') {\r\n        tasksForTodolist = props.tasks.filter(t => t.status === TaskStatuses.Completed)\r\n    }\r\n\r\n    return <div>\r\n        <h3><EditableSpan value={props.todolist.title} onChange={changeTodolistTitle}/>\r\n            <IconButton onClick={removeTodolist} disabled={props.todolist.entityStatus === 'loading'}>\r\n                <Delete/>\r\n            </IconButton>\r\n        </h3>\r\n        <AddItemForm addItem={addTask} disabled={props.todolist.entityStatus === 'loading'}/>\r\n        <div>\r\n            {\r\n                tasksForTodolist.map(t => <Task key={t.id} task={t} todolistId={props.todolist.id}\r\n                                                removeTask={props.removeTask}\r\n                                                changeTaskTitle={props.changeTaskTitle}\r\n                                                changeTaskStatus={props.changeTaskStatus}\r\n                />)\r\n            }\r\n        </div>\r\n        <div style={{paddingTop: '10px'}}>\r\n            <Button variant={props.todolist.filter === 'all' ? 'outlined' : 'text'}\r\n                    onClick={onAllClickHandler}\r\n                    color={'inherit'}\r\n            >All\r\n            </Button>\r\n            <Button variant={props.todolist.filter === 'active' ? 'outlined' : 'text'}\r\n                    onClick={onActiveClickHandler}\r\n                    color={'primary'}>Active\r\n            </Button>\r\n            <Button variant={props.todolist.filter === 'completed' ? 'outlined' : 'text'}\r\n                    onClick={onCompletedClickHandler}\r\n                    color={'secondary'}>Completed\r\n            </Button>\r\n        </div>\r\n    </div>\r\n})\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module"}